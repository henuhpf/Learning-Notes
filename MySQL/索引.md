#### 创建索引的优缺点:
- 创建索引可以大大提高系统的性能。
  - 第一，通过创建唯一性索引，可以保证数据库表中每一行数据的唯一性。
  - 第二，可以大大加快数据的检索速度，这也是创建索引的最主要的原因。
  - 第三，可以加速表和表之间的连接，特别是在实现数据的参考完整性方面特别有意义。
  - 第四，在使用分组和排序子句进行数据检索时，同样可以显著减少查询中分组和排序的时间。
  - 第五，通过使用索引，可以在查询的过程中，使用优化隐藏器，提高系统的性能。 

- 缺点
  - 第一，创建索引和维护索引要耗费时间，这种时间随着数据量的增加而增加。
  - 第二，索引需要占物理空间，除了数据表占数据空间之外，每一个索引还要占一定的物理空间，如果要建立聚簇索引，那么需要的空间就会更大。
  - 第三，当对表中的数据进行增加、删除和修改的时候，索引也要动态的维护，这样就降低了数据的维护速度。

#### 索引分类
- 从物理存储角度
  - 聚集索引 (clustered index)
  - 非聚集索引 (non-clustered index)
- 从逻辑角度
  - 普通索引或单列索引
    - 创建索引，例如CREATE INDEX <索引的名字> ON tablename (列的列表); 
    - 修改表，例如ALTER TABLE tablename ADD INDEX [索引的名字] (列的列表); 
    - 创建表的时候指定索引，例如CREATE TABLE tablename ( [...], INDEX [索引的名字] (列的列表) ); 
  - 唯一索引
    - 创建索引，例如CREATE UNIQUE INDEX <索引的名字> ON tablename (列的列表); 
    - 修改表，例如ALTER TABLE tablename ADD UNIQUE [索引的名字] (列的列表); 
    - 创建表的时候指定索引，例如CREATE TABLE tablename ( [...], UNIQUE [索引的名字] (列的列表) ); 
  - 主键索引
    - CREATE TABLE tablename ( [...], PRIMARY KEY (列的列表) ); 
    - ALTER TABLE tablename ADD PRIMARY KEY (列的列表); 
  - 多列索引(复合或联合索引)
    - ALTER TABLE mytable ADD INDEX index1(a,b,c);
    - 只有where 语句中 abc按顺序的时候才会走联合索引，ac或者ab 且b是范围查询只会使用a索引，但还是用到了联合索引
  - 全文索引 FULLTEXT

#### 联合索引 最左前缀原则
- mysql会一直向右匹配直到遇到范围查询(>、<、between、like)就停止匹配，比如a = 1 and b = 2 and c > 3 and d = 4 如果建立(a,b,c,d)顺序的索引，d是用不到索引的，如果建立(a,b,d,c)的索引则都可以用到，a,b,d的顺序可以任意调整。
- =和in可以乱序，比如a = 1 and b = 2 and c = 3 建立(a,b,c)索引可以任意顺序，mysql的查询优化器会帮你优化成索引可以识别的形式

#### 索引失效
- 如果条件中有or，即使其中有条件带索引也不会使用(这也是为什么尽量少用or的原因)。**注意：要想使用or，又想让索引生效，只能将or条件中的每个列都加上索引**
- 对于多列索引，不是使用的第一部分，则不会使用索引（即不符合最左前缀原则）
- like查询是以%开头
- 如果列类型是字符串，那一定要在条件中将数据使用引号引用起来,否则不使用索引
- 如果mysql估计使用全表扫描要比使用索引快,则不使用索引

#### 查看索引使用情况
- show status like ‘Handler_read%’;
- handler_read_key:这个值越高越好，越高表示使用索引查询到的次数
- handler_read_rnd_next:这个值越高，说明查询低效
